{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Fims","text":""},{"location":"about/","title":"About fims proto","text":"<p>Just a prototype built by linfengOu and ldXiao.</p>"},{"location":"general_ledger/","title":"General Ledger \u603b\u8d26 (WIP)","text":""},{"location":"general_ledger/#entities-and-relations","title":"Entities and Relations","text":"<p>For diagram simplicity, <code>SoB</code> and <code>Period</code> are not connected with others:</p> <ul> <li>All entities are logically belongs to a <code>SoB</code></li> <li><code>Voucher</code> and <code>Ledger</code> are logically belongs to a <code>Period</code></li> </ul> <pre><code>---\ntitle: General Ledger ER\n---\nerDiagram\n    VOUCHER ||--|{ LINE_ITEM: \"contains (at least 2)\"\n    LINE_ITEM }o--|| ACCOUNT: \"placed in\"\n    LINE_ITEM }o..o{ AUXILIARY_ACCOUNT: \"placed in\"\n\n    ACCOUNT ||..o| ACCOUNT: \"belongs to\"\n    AUXILIARY_CATEGORY ||..o{ AUXILIARY_ACCOUNT: contains\n    ACCOUNT ||..o{ AUXILIARY_CATEGORY: has\n\n    ACCOUNT ||--|{ LEDGER: \"records in\"\n    AUXILIARY_ACCOUNT ||--|{ AUXILIARY_LEDGER: \"records in\"\n\n    SOB {\n        UUID id\n        string name\n        string description\n        string baseCurrency\n        int startingPeriodYear\n        int startingPeriodMonth\n        int[] accountsCodeLength\n    }\n\n    ACCOUNT {\n        UUID id\n        UUID sobId\n        string title\n        string accountNumber\n        int[] numberHierarchy\n        int level\n        Account superiorAccount\n        int class\n        int group\n        BalanceDirection balanceDirection\n        AuxiliaryCategory[] auxiliaryCategories\n    }\n\n    AUXILIARY_CATEGORY {\n        UUID id\n        UUID sobId\n        string key\n        string title\n        bool isStandard\n    }\n\n    AUXILIARY_ACCOUNT {\n        UUID id\n        AuxiliaryCategory category\n        string key\n        string title\n        string description\n    }\n\n    PERIOD {\n        UUID id\n        UUID sobId\n        int fiscalYear\n        int periodNumber\n        Time openingTime\n        Time endingTime\n        bool isClosed\n        bool isCurrent\n    }\n\n    VOUCHER {\n        UUID id\n        UUID sobId\n        UUID periodId\n        VoucherType voucherType\n        string headerText\n        string documentNumber\n        int attachmentQuantity\n        Decimal debit\n        Decimal credit\n        UUID creator\n        UUID reviewer\n        UUID auditor\n        UUID poster\n        bool isReviewed\n        bool isAudited\n        bool isPosted\n        Time transactionTime\n        LineItem[] lineItems\n    }\n\n    LINE_ITEM {\n        UUID id\n        Account account\n        AuxiliaryAccounts[] auxiliaryAccounts\n        string text\n        Decimal debit\n        Decimal credit\n    }\n\n    LEDGER {\n        UUID id\n        UUID periodId\n        Account account\n        Decimal openingDebitBalance\n        Decimal openingCreditBalance\n        Decimal periodDebit\n        Decimal periodCredit\n        Decimal endingDebitBalance\n        Decimal endingCreditBalance\n    }\n\n    AUXILIARY_LEDGER {\n        UUID id\n        UUID periodId\n        AuxiliaryAccount auxiliaryAccount\n        Decimal openingDebitBalance\n        Decimal openingCreditBalance\n        Decimal periodDebit\n        Decimal periodCredit\n        Decimal endingDebitBalance\n        Decimal endingCreditBalance\n    }\n</code></pre>"},{"location":"report/","title":"Report \u62a5\u8868 (WIP)","text":""},{"location":"report/#concept-and-sample","title":"Concept and sample","text":""},{"location":"report/#balance-sheet","title":"Balance Sheet \u8d44\u4ea7\u8d1f\u503a\u8868","text":"<p><code>\u8d44\u4ea7 = \u8d1f\u503a + \u6240\u6709\u8005\u6743\u76ca</code></p> \u8d44\u4ea7 \u671f\u672b\u4f59\u989d \u5e74\u521d\u4f59\u989d \u8d1f\u503a\u548c\u6240\u6709\u8005\u6743\u76ca \u671f\u672b\u4f59\u989d \u5e74\u521d\u4f59\u989d \u6d41\u52a8\u8d44\u4ea7 \u6d41\u52a8\u8d1f\u503a ... ... \u6d41\u52a8\u8d44\u4ea7\u5408\u8ba1 123.00 123.00 \u6d41\u52a8\u8d1f\u503a\u5408\u8ba1 123.00 123.00 \u975e\u6d41\u52a8\u8d44\u4ea7 \u975e\u6d41\u52a8\u8d1f\u503a ... ... \u975e\u6d41\u52a8\u8d44\u4ea7\u5408\u8ba1 123.00 123.00 \u975e\u6d41\u52a8\u8d1f\u503a\u5408\u8ba1 123.00 123.00 \u6240\u6709\u8005\u6743\u76ca ... \u6240\u6709\u8005\u6743\u76ca\u5408\u8ba1 123.00 123.00 \u8d44\u4ea7\u603b\u8ba1 123.00 123.00 \u8d1f\u503a\u548c\u6240\u6709\u8005\u6743\u76ca\u603b\u8ba1 123.00 123.00"},{"location":"report/#income-statement","title":"Income Statement \u5229\u6da6\u8868","text":"<p>\u8425\u4e1a\u5229\u6da6 = \u8425\u4e1a\u6536\u5165 - \u8425\u4e1a\u6210\u672c - \u9500\u552e\u8d39\u7528 - ... \u5229\u6da6\u603b\u548c = \u8425\u4e1a\u5229\u6da6 + \u8425\u4e1a\u5916\u6536\u5165 - \u8425\u4e1a\u5916\u652f\u51fa \u51c0\u5229\u6da6 = \u5229\u6da6\u603b\u548c - \u6240\u5f97\u7a0e\u8d39\u7528 (\u7efc\u5408\u6536\u76ca\u603b\u989d = \u51c0\u5229\u6da6 + \u5176\u4ed6\u7efc\u5408\u6536\u76ca\u7684\u7a0e\u540e\u51c0\u989d)</p> \u9879\u76ee \u672c\u5e74\u7d2f\u8ba1\u91d1\u989d \u672c\u6708\u91d1\u989d 1. \u8425\u4e1a\u6536\u5165 123.00 123.00 \u00a0\u00a0\u00a0\u00a0\u51cf: \u8425\u4e1a\u6210\u672c 123.00 123.00 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u9500\u552e\u8d39\u7528 123.00 123.00 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u7ba1\u7406\u8d39\u7528 123.00 123.00 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0... ... ... 2. \u8425\u4e1a\u5229\u6da6\uff08\u4e8f\u635f\u4ee5\u201c-\u201d\u53f7\u586b\u5217\uff09 123.00 123.00 \u00a0\u00a0\u00a0\u00a0\u52a0: \u8425\u4e1a\u5916\u6536\u5165 123.00 123.00 \u00a0\u00a0\u00a0\u00a0\u51cf: \u8425\u4e1a\u5916\u652f\u51fa 123.00 123.00 3. \u5229\u6da6\u603b\u989d\uff08\u4e8f\u635f\u603b\u989d\u4ee5\u201c-\u201d\u53f7\u586b\u5217\uff09 123.00 123.00 \u00a0\u00a0\u00a0\u00a0\u51cf: \u6240\u5f97\u7a0e\u8d39\u7528 123.00 123.00 3. \u51c0\u5229\u6da6\uff08\u51c0\u4e8f\u635f\u4ee5\u201c-\u201d\u53f7\u586b\u5217\uff09 123.00 123.00"},{"location":"report/#others","title":"Others","text":"<p>\u53e6\u5916\u8fd8\u6709\u4e00\u4e9b\u6807\u51c6\u62a5\u8868: \u73b0\u91d1\u6d41\u91cf\u8868, \u4e3b\u8981\u5e94\u4ea4\u7a0e\u91d1\u660e\u7ec6\u8868, \u8d39\u7528\u660e\u7ec6\u8868. \u4e4b\u540e\u518d\u8bf4.</p>"},{"location":"report/#design","title":"Design","text":""},{"location":"report/#domain-entities","title":"Domain Entities","text":"<p>Template:</p> <pre><code>id: uuid\nsobId: uuid\nclass: enum # \u62a5\u8868\u7c7b\u522b, \u8d44\u4ea7\u8d1f\u503a\u8868|\u5229\u6da6\u8868|etc.\ntitle: string\ntables:\n- header:\n    text: string\n    columns:\n    - key: string # key of the column\n      value: string # title of the column\n  items:\n  - values:\n    - key: string # key of the column\n      value: number # value of the cell\n    id: uuid\n    text: string\n    level: int\n    sumFactor: int # 1/-1/0, \u5f53\u524d item \u662f\u88ab\u52a0(1)\u8fd8\u662f\u51cf(-1)\u5728\u5408\u8ba1\u91cc\u9762. 0 \u4ee3\u8868\u5728\u5408\u8ba1\u91cc\u9762\u5ffd\u7565\uff0c\u6709\u8fd9\u51e0\u79cd\u60c5\u51b5:\n    # - item \u662f\u7279\u6b8a\u884c\uff08\u6bd4\u5982\u6807\u9898\uff09\u6ca1\u6709\u6570\u5b57\u503c\n    # - breakdown item\uff0c\u4f5c\u4e3a\u4e0a\u7ea7\u6570\u5b57\u7684\u7ec6\u5206\n    # - item \u662f\u5408\u8ba1\u884c, \u6216\u9636\u6bb5\u6027\u7684\u5408\u8ba1\u884c\uff08dataSource \u662f sum\uff09\n    rowNumber: int\n    sequence: int\n    dataSource: enum # formula/sum/na, \u5f53\u524d item \u7684\u6570\u636e\u6e90\u662f\u6765\u81ea\u4e8e\u516c\u5f0f(formula), \u8fd8\u662f\u622a\u81f3\u76ee\u524d\u7684\u7d2f\u52a0(sum)\n    formulas: # \u5f53 dataSource \u662f `formula` \u65f6\uff0c\u6b64\u5b57\u6bb5\u5c06\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a formula:\n    - accountId: string\n      sumFactor: int # 1/-1, \u5f53\u524d\u79d1\u76ee\u6570\u5b57`\u52a0`\u6216`\u51cf`\n      rule: # \u53d6\u6570\u89c4\u5219\uff0c\u4f9d\u636e report type \u4e0d\u540c\uff0c\u6709\u4e24\u5957\u4e0d\u540c\u7684\u53d6\u6570\u89c4\u5219:\n      # - \u8d44\u4ea7\u8d1f\u503a\u8868 B/D/C/AD/AC/CAD/CAC:\n      #   - B: balance, \u4f59\u989d\n      #   - DB: debit balance, \u501f\u65b9\u4f59\u989d\n      #   - CB: credit balance, \u8d37\u65b9\u4f59\u989d\n      #   - ADB ?: account debit balance, \u79d1\u76ee\u501f\u65b9\u4f59\u989d\n      #   - ACB ?: account credit balance, \u79d1\u76ee\u8d37\u65b9\u4f59\u989d\n      #   - CADB ?: current account debit balance, \u5f53\u524d\u79d1\u76ee\u501f\u65b9\u4f59\u989d\n      #   - CACB ?: current account credit balance, \u5f53\u524d\u79d1\u76ee\u8d37\u65b9\u4f59\u989d\n      # - \u5229\u6da6\u8868 PL/D/C:\n      #   - PL: profit and loss, \u635f\u76ca\u53d1\u751f\u989d\n      #   - DA: debit amount, \u501f\u65b9\u53d1\u751f\u989d\n      #   - CA: credit amount, \u8d37\u65b9\u53d1\u751f\u989d\n    displaySumFactor: bool\n    displayRowNumber: bool\n    isBreakdownItem: bool\n    isDeletable: bool\n    isNameModifiable: bool\n    isDraggable: bool\n    isAbleToAddChild: bool\n    isAbleToAddSibling: bool\n    isAbleToAddLeaf: bool\n</code></pre> <p>Report:</p> <p>\u57fa\u672c\u4e0a\u662f <code>template</code> \u7684\u5b50\u96c6, \u53bb\u6389\u4e86\u4e00\u4e9b design time \u7684\u5c5e\u6027, \u4ec5\u4fdd\u7559\u4e86\u4e3a\u652f\u6301 display \u800c\u5b58\u5728\u7684\u5c5e\u6027:</p> <pre><code>---\nid: uuid\nsobId: uuid\nyearPeriod: string # fiscal year + period number, e.g. 202302\nclass: enum\ntitle: string\nversion: int\ntables:\n- header:\n    text: string\n    columns:\n    - key: string # key of the column\n      value: string # title of the column\n  items:\n  - values:\n    - key: string # key of the column\n      value: number # value of the cell\n    id: uuid\n    text: string\n    level: int\n    rowNumber: int\n    sequence: int\n    displaySumFactor: bool\n    displayRowNumber: bool\n    isBreakdownItem: bool\n</code></pre>"}]}